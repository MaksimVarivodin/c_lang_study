
# 1.5.3. Подсчет строк
Следующая программа подсчитывает строки. Как упоминалось ранее, стандартная библиотека обеспечивает такую модель ввода-вывода, при которой входной текстовый поток состоит из последовательности строк, каждая из которых заканчивается символом новой строки. Следовательно, подсчет строк сводится к подсчету числа символов новой строки.

```c
#include <stdio.h>

/* Подсчет строк во входном потоке */
main()
{
    int c, nl;
    nl = 0;
    while ((c = getchar()) != EOF)
        if (c == '\n')
            ++nl;
    printf ("%d\n", nl);
}
```

Тело цикла теперь образует инструкцию `if`, под контролем которой находится увеличение счетчика `nl` на единицу. Инструкция `if` проверяет условие в скобках и, если оно истинно, выполняет следующую за ним инструкцию (или группу инструкций, заключенную в фигурные скобки). Мы опять делаем отступы в тексте программы, чтобы показать, что чем управляется.

Двойной знак равенства в языке Си обозначает оператор "равно" (он аналогичен оператору `=` в Паскале и `.EQ.` в Фортране). Удваивание знака `=` в операторе проверки на равенство сделано для того, чтобы отличить его от единичного `=`, используемого в Си для обозначения присваивания. Предупреждаем: начинающие программировать на Си иногда пишут `=`, а имеют в виду `==`. Как мы увидим в главе 2, в этом случаере результатом будет обычно вполне допустимое по форме выражение, на которое компилятор не выдаст никаких предупреждающих сообщений.

Символ, заключенный в одиночные кавычки, представляет собой целое значение, равное коду этого символа(в кодировке, принятой на данной машине). Это так называемая символьная константа. Существует и другой способ для написания маленьких целых значений. Например, `'А'` есть символьная константа; в наборе символов ASCII ее значение равняется 65 — внутреннему представлению символа 'А'. Конечно, `'А'` в роли константы предпочтительнее, чем 65, поскольку смысл первой записи более очевиден, и она не зависит от конкретного способа кодировки символов.

Эскейп-последовательности, используемые в строковых константах, допускаются также и в символьных константах. Так, `'\n'` обозначает код символа новой строки, который в ASCII равен 10. Следует обратить внимание на то, что `'\n'` обозначает один символ (код которого в выражении рассматривается как целое значение), в то время как `"\n"` — строковая константа, в которой чисто случайно указан один символ.

Более подробно различие между символьными и строковыми константами разбирается в главе 2.